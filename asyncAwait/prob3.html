<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
      <h1>Product Listing</h1>
  <div id="error" class="error"></div>
  <div id="productGrid" class="grid"></div>
  <div id="totalPrice" class="total"></div>
</body>
</html>
<script>


async function fetchProducts() {
      try {
        const response = await fetch("https://fakestoreapi.com/products")

        const products = await response.json()

        
        products.forEach(product => {
        //   console.log(product)
        });

        displayProducts(products)
        showTotalPrice(products)

      } catch (error) {
        document.getElementById("error").innerText = 
          "Failed to fetch products. Please try again later."
        console.error("Fetch error:", error)
      }
    }

    function displayProducts(products) {
  const container = document.getElementById("productGrid");
  container.innerHTML = "";

  products.forEach(product => {
    const card = document.createElement("div");
    card.className = "product-card";

    // Image
    const img = document.createElement("img");
    img.src = product.image;
    img.alt = product.title;

    // Title
    const title = document.createElement("div")
    title.className = "product-title"
    title.textContent = product.title

    // Price
    const price = document.createElement("div")
    price.className = "product-price";
    price.textContent = `$${product.price.toFixed(2)}`

    // Button
    const button = document.createElement("button")
    button.className = "view-button"
    button.textContent = "View Details"

    // Append all to card
    // card.appendChild(img,title,price,button)
    card.appendChild(img);
card.appendChild(title);
card.appendChild(price);
card.appendChild(button);

    


    container.appendChild(card)
  })
}

    function showTotalPrice(products) {
      const total = products.reduce((sum, product) => sum + product.price, 0)
      document.getElementById("totalPrice").innerText = 
        `Total Price of All Products: $${total.toFixed(2)}`
    }

    fetchProducts();
  



</script>